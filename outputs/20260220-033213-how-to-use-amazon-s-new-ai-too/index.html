<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="" name="description"/>
<meta content="Digital, Product, digital product, passive income, MetaPassiveIncome" name="keywords"/>
<meta content="MetaPassiveIncome | Digital Product" property="og:title"/>
<meta content="" property="og:description"/>
<meta content="https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&amp;w=2000&amp;auto=format&amp;fit=crop" property="og:image"/>
<meta content="website" property="og:type"/>
<meta content="MetaPassiveIncome" property="og:site_name"/>
<meta content="summary_large_image" name="twitter:card"/>
<meta content="MetaPassiveIncome | Digital Product" name="twitter:title"/>
<meta content="" name="twitter:description"/>
<meta content="https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&amp;w=2000&amp;auto=format&amp;fit=crop" name="twitter:image"/>
<meta content="index, follow" name="robots"/>
<link href="https://meta-passive-income-product.vercel.app" rel="canonical"/>
<script type="application/ld+json">
  {
    "@context": "https://schema.org/",
    "@type": "Product",
    "name": "Digital Product",
    "description": "",
    "brand": {
      "@type": "Brand",
      "name": "MetaPassiveIncome"
    },
    "offers": {
      "@type": "Offer",
      "priceCurrency": "USD",
      "price": "29.00",
      "availability": "https://schema.org/InStock"
    }
  }
  </script>
<link href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;rect width=%22100%22 height=%22100%22 fill=%22%2300b4ff%22&gt;&lt;/rect&gt;&lt;/svg&gt;" rel="icon"/>
<title>MetaPassiveIncome | Digital Product</title>
<style>
    :root {
      --bg: #070b12;
      --panel: rgba(255,255,255,0.06);
      --panel2: rgba(255,255,255,0.08);
      --text: rgba(255,255,255,0.92);
      --muted: rgba(255,255,255,0.68);
      --line: rgba(255,255,255,0.12);
      --glow: #00b4ff55;
      --accent: #00b4ff;
      --accent2: #22d3ee;
      --danger: #ff4d6d;
      --ok: #2ee59d;
      --radius: 16px;
      --font-main: Inter, system-ui, sans-serif;
    }

    /* Urgency & Social Proof Styles */
    .urgency-bar {
      background: var(--danger);
      color: white;
      text-align: center;
      padding: 8px;
      font-size: 13px;
      font-weight: 700;
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .notification-popup {
      position: fixed;
      bottom: 20px;
      left: 20px;
      background: var(--panel);
      border: 1px solid var(--line);
      padding: 12px 18px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      gap: 12px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      z-index: 1000;
      transform: translateY(150%);
      transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    .notification-popup.show {
      transform: translateY(0);
    }

    body.theme-course {
      --bg: #0b0814;
      --accent: #00b4ff;
      --accent2: #22d3ee;
      --glow: #00b4ff33;
    }

    body.theme-elegant {
      --bg: #0f172a;
      --accent: #00b4ff;
      --accent2: #22d3ee;
      --glow: #00b4ff25;
      --radius: 4px;
    }

    body.theme-minimal {
      --bg: #ffffff;
      --text: #1e293b;
      --muted: #64748b;
      --line: #e2e8f0;
      --panel: #f8fafc;
      --panel2: #f1f5f9;
      --accent: #00b4ff;
      --accent2: #22d3ee;
      --glow: #00b4ff1a;
    }

    body.theme-playful {
      --bg: #fdf2f8;
      --text: #831843;
      --muted: #be185d;
      --line: #fbcfe8;
      --panel: #ffffff;
      --panel2: #fce7f3;
      --accent: #00b4ff;
      --accent2: #22d3ee;
      --glow: #00b4ff20;
      --radius: 24px;
    }

    body.theme-dashboard {
      --bg: #020617;
      --accent: #00b4ff;
      --accent2: #22d3ee;
      --glow: #00b4ff32;
    }

    body.theme-landing {
      --bg: #020617;
      --accent: #00b4ff;
      --accent2: #22d3ee;
      --glow: #00b4ff32;
    }

    body.theme-saas {
      --bg: #020617;
      --accent: #00b4ff;
      --accent2: #22d3ee;
      --glow: #00b4ff32;
    }

    body.theme-tool {
      --bg: #020617;
      --accent: #00b4ff;
      --accent2: #22d3ee;
      --glow: #00b4ff34;
    }

    * {
      box-sizing: border-box;
    }

    html, body {
      margin: 0;
      padding: 0;
      background: radial-gradient(1200px 800px at 70% 20%, #00b4ff1a, transparent 55%),
                  radial-gradient(900px 600px at 25% 30%, #22d3ee14, transparent 55%),
                  var(--bg);
      color: var(--text);
      font-family: var(--font-main);
      line-height: 1.5;
      scroll-behavior: smooth;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    .container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 24px;
    }

    /* Layout Styles */
    .layout-grid .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 24px;
    }

    .layout-creative .hero {
      text-align: left;
      display: flex;
      align-items: center;
      gap: 40px;
    }

    .layout-creative .hero-content {
      flex: 1;
    }

    .layout-corporate .container {
      max-width: 900px;
    }

    .layout-minimalist .hero {
      padding: 120px 24px;
    }

    .nav {
      position: sticky;
      top: 0;
      z-index: 50;
      backdrop-filter: blur(10px);
      background: linear-gradient(to bottom, rgba(7,11,18,0.88), rgba(7,11,18,0.55));
      border-bottom: 1px solid var(--line);
    }

    .nav-inner {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      padding: 14px 24px;
      max-width: 1100px;
      margin: 0 auto;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 800;
      letter-spacing: 0.2px;
    }

    .logo {
      width: 34px;
      height: 34px;
      border-radius: 12px;
      background: radial-gradient(circle at 30% 30%, rgba(34,211,238,0.9), rgba(0,180,255,0.3)),
                  rgba(255,255,255,0.06);
      box-shadow: 0 0 30px var(--glow);
      border: 1px solid rgba(255,255,255,0.16);
    }

    .nav-links {
      display: flex;
      align-items: center;
      gap: 16px;
      font-size: 14px;
      color: var(--muted);
    }

    .nav-links a {
      padding: 8px 10px;
      border-radius: 10px;
    }

    .nav-links a:hover {
      background: rgba(255,255,255,0.06);
      color: var(--text);
    }

    .nav-actions {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .btn {
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(255,255,255,0.06);
      color: var(--text);
      padding: 10px 14px;
      border-radius: 12px;
      cursor: pointer;
      font-weight: 700;
      font-size: 14px;
      transition: transform 0.05s ease, background 0.2s ease, border 0.2s ease;
      user-select: none;
    }

    .btn:hover {
      background: rgba(255,255,255,0.10);
      border-color: rgba(255,255,255,0.26);
    }

    .btn:active {
      transform: translateY(1px);
    }

    .btn-primary {
      background: linear-gradient(135deg, rgba(0,180,255,0.95), rgba(34,211,238,0.85));
      border: 0;
      color: #001018;
      box-shadow: 0 12px 30px rgba(0,180,255,0.22);
    }

    .hero {
      padding: 64px 0 10px 0;
    }

    .hero-grid {
      display: grid;
      grid-template-columns: 1.2fr 0.8fr;
      gap: 28px;
      align-items: center;
    }

    @media (max-width: 920px) {
      .hero-grid {
        grid-template-columns: 1fr;
      }
    }

    .hero-preview {
      position: relative;
    }

    .hero-image {
      width: 100%;
      border-radius: 18px;
      border: 1px solid var(--line);
      box-shadow: 0 32px 64px rgba(0,0,0,0.4);
      background: rgba(255,255,255,0.02);
      aspect-ratio: 16 / 10;
      object-fit: cover;
    }

    .kicker {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 8px 12px;
      border: 1px solid var(--line);
      border-radius: 999px;
      color: var(--muted);
      background: rgba(255,255,255,0.04);
      font-size: 13px;
    }

    .kicker-dot {
      width: 8px;
      height: 8px;
      border-radius: 99px;
      background: var(--accent2);
      box-shadow: 0 0 16px rgba(34,211,238,0.45);
    }

    h1 {
      margin: 16px 0 10px 0;
      font-size: 46px;
      line-height: 1.08;
      letter-spacing: -0.6px;
    }

    @media (max-width: 520px) {
      h1 {
        font-size: 36px;
      }
    }

    .sub {
      margin: 0;
      color: var(--muted);
      font-size: 16px;
      max-width: 60ch;
    }

    .hero-actions {
      margin-top: 22px;
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    .panel {
      background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
      border: 1px solid var(--line);
      border-radius: var(--radius);
      padding: 18px;
      box-shadow: 0 24px 60px rgba(0,0,0,0.35);
    }

    .panel h3 {
      margin: 0 0 10px 0;
      font-size: 16px;
    }

    .panel p {
      margin: 0;
      color: var(--muted);
      font-size: 14px;
    }

    .stats {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      margin-top: 14px;
    }

    .stat {
      padding: 12px;
      border-radius: 14px;
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.10);
    }

    .stat strong {
      display: block;
      font-size: 15px;
    }

    .stat span {
      display: block;
      font-size: 12px;
      color: var(--muted);
      margin-top: 4px;
    }

    section {
      padding: 36px 0;
    }

    .section-title {
      font-size: 22px;
      margin: 0 0 12px 0;
      letter-spacing: -0.2px;
    }

    .grid3 {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 14px;
    }

    @media (max-width: 920px) {
      .grid3 {
        grid-template-columns: 1fr;
      }
    }

    .card {
      padding: 16px;
      border-radius: var(--radius);
      border: 1px solid var(--line);
      background: rgba(255,255,255,0.05);
    }

    .card h4 {
      margin: 0 0 8px 0;
      font-size: 15px;
    }

    .card p {
      margin: 0;
      color: var(--muted);
      font-size: 13px;
    }

    .pricing {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 14px;
    }

    .pricing-card {
      background: rgba(255,255,255,0.03);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 16px;
      padding: 24px;
      display: flex;
      flex-direction: column;
      transition: transform 0.2s ease, border-color 0.2s ease;
    }

    .pricing-card:hover {
      transform: translateY(-4px);
      border-color: var(--accent);
      background: rgba(255,255,255,0.05);
    }

    .pricing-card h3 {
      margin: 0;
      font-size: 18px;
    }

    .pricing-card .price {
      font-size: 36px;
      font-weight: 800;
      margin: 16px 0;
      color: var(--text);
    }

    .pricing-card .price span {
      font-size: 14px;
      color: var(--muted);
      font-weight: 400;
    }

    .pricing-card .features {
      list-style: none;
      padding: 0;
      margin: 0 0 24px 0;
      flex-grow: 1;
    }

    .pricing-card .features li {
      padding: 8px 0;
      color: var(--muted);
      font-size: 14px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .pricing-card .features li::before {
      content: "‚úì";
      color: var(--accent);
      font-weight: bold;
    }

    @media (max-width: 920px) {
      .pricing {
        grid-template-columns: 1fr;
      }
    }

    .price {
      font-size: 28px;
      margin: 10px 0 8px 0;
      letter-spacing: -0.4px;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-size: 12px;
      color: rgba(255,255,255,0.75);
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.04);
    }

    .badge .pill {
      width: 8px;
      height: 8px;
      border-radius: 99px;
      background: var(--ok);
      box-shadow: 0 0 18px rgba(46,229,157,0.35);
    }

    .list {
      margin: 10px 0 0 0;
      padding: 0;
      list-style: none;
      color: var(--muted);
      font-size: 13px;
    }

    .list li {
      padding: 6px 0;
      border-top: 1px dashed rgba(255,255,255,0.12);
    }

    .faq {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
    }

    @media (max-width: 920px) {
      .faq {
        grid-template-columns: 1fr;
      }
    }

    footer {
      padding: 28px 0 46px 0;
      color: var(--muted);
      border-top: 1px solid var(--line);
      margin-top: 26px;
      font-size: 13px;
    }

    /* Î™®Îã¨ */
    

    

    .modal-head {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 10px;
    }

    .modal-title {
      margin: 0;
      font-size: 16px;
      letter-spacing: -0.2px;
    }

    .x {
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.06);
      color: var(--text);
      border-radius: 12px;
      padding: 8px 10px;
      cursor: pointer;
      font-weight: 800;
    }

    .field {
      margin-top: 10px;
    }

    .label {
      display: block;
      font-size: 12px;
      color: var(--muted);
      margin-bottom: 6px;
    }

    .input {
      width: 100%;
      padding: 12px 12px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.05);
      color: var(--text);
      outline: none;
    }

    .hint {
      margin-top: 8px;
      font-size: 12px;
      color: rgba(255,255,255,0.62);
    }

    .row {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 12px;
    }

    .toast {
      position: fixed;
      right: 14px;
      bottom: 14px;
      background: rgba(10,14,22,0.92);
      border: 1px solid rgba(255,255,255,0.14);
      padding: 10px 12px;
      border-radius: 14px;
      color: var(--text);
      display: none;
      z-index: 999;
      max-width: 360px;
      box-shadow: 0 24px 80px rgba(0,0,0,0.5);
      font-size: 13px;
    }
  </style>
</head>
<body class="theme-default layout-minimalist" data-product-id="product">
<div class="urgency-bar">
    LIMITED TIME OFFER: Save 50% for the next <span id="countdown">15:00</span>
</div>
<div class="nav">
<div class="nav-inner">
<div class="brand">
<div aria-hidden="true" class="logo"></div>
<div>MetaPassiveIncome</div>
</div>
<div aria-label="Primary" class="nav-links">
<a data-action="nav" data-target="#features" href="#features">Features</a>
<a data-action="nav" data-target="#pricing" href="#pricing">Pricing</a>
<a data-action="nav" data-target="#faq" href="#faq">FAQ</a>
</div>
<div class="nav-actions">
<button class="btn" data-action="open-login">Sign In</button>
<button class="btn btn-primary" data-action="open-plans">Get Started</button>
</div>
</div>
</div>
<main class="container">
<div class="hero">
<div class="hero-grid">
<div>
<div class="kicker">
<span class="kicker-dot"></span>
<span>Web3-ready SaaS landing ‚Ä¢ Professional Template</span>
</div>
<h1>Digital Product</h1>
<p class="sub"></p>
<div class="hero-actions">
<button class="btn btn-primary" data-action="open-plans" style="padding: 14px 24px; font-size: 16px;">Get Started</button>
<button class="btn" data-action="scroll" data-target="#features" style="padding: 14px 24px; font-size: 16px;">Learn More</button>
</div>
</div>
<div class="hero-preview">
<img alt="Product Preview" class="hero-image" loading="lazy" src="https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&amp;w=2000&amp;auto=format&amp;fit=crop"/>
</div>
</div>
</div>
<section id="features">
<h2 class="section-title">Features</h2>
<div class="grid3">
<div class="card"><h4>Wallet-ready checkout</h4><p>Designed for crypto-wallet users. Next step: invoice creation + webhook ‚Üí fulfillment.</p></div>
<div class="card"><h4>One-file deploy</h4><p>No build step required. Works on Vercel static hosting. No missing JS bundles.</p></div>
<div class="card"><h4>Action router</h4><p>All buttons use <code>data-action</code>. Easy to extend with payment + download gating.</p></div>
</div>
</section>
<section id="pricing">
<h2 class="section-title">Pricing</h2>
<div class="pricing">
<div class="card" style="border-color: rgba(0,180,255,0.38); box-shadow: 0 24px 80px rgba(0,180,255,0.12);"><div class="badge"><span class="pill" style="background: var(--accent2);"></span><span>Standard</span></div><div class="price">$29.00<span style="font-size:14px; color: var(--muted);">/mo</span></div><p class="sub" style="font-size:13px;">Best for most creators.</p><ul class="list"><li>Full access</li><li>Priority support</li><li>Updates included</li></ul><div class="row"><button class="btn btn-primary" data-action="choose-plan" data-plan="Standard" data-price="$29.00">Standard</button></div></div>
</div>
</section>
<section id="faq">
<h2 class="section-title">FAQ</h2>
<div class="faq">
<div class="card"><h4>Why are buttons sometimes unresponsive?</h4><p>If the HTML file is wrapped in markdown fences or served escaped, the DOM differs and scripts may not run as expected.</p></div>
<div class="card"><h4>Where does payment integration go?</h4><p>Next module: serverless function (Vercel) ‚Üí create invoice ‚Üí receive webhook ‚Üí unlock download/email.</p></div>
</div>
</section>
<footer>
<div style="margin-top:6px;">¬© MetaPassiveIncome. All rights reserved.</div>
</footer>
</main>
<div class="notification-popup" id="purchase-notification">
<div style="font-size: 20px;">üî•</div>
<div>
<div id="notif-name" style="font-weight: 700; font-size: 14px;">Someone from USA</div>
<div style="font-size: 12px; color: var(--muted);">just purchased this product</div>
</div>
</div>
<!-- Login Modal -->

<!-- Plans Modal -->

<!-- Toast -->
<div class="toast" id="toast"></div>
<script>
    (function() {
      "use strict";

      // 404 Error Suppressor for Vite/Client, Favicon, and Source Maps in previews
      (function() {
        var originalError = console.error;
        var originalWarn = console.warn;
        
        console.error = function() {
          var msg = arguments[0];
          if (msg && typeof msg === 'string') {
            if (msg.indexOf('/@vite/client') !== -1 || 
                msg.indexOf('Failed to load resource') !== -1 ||
                msg.indexOf('favicon.ico') !== -1 ||
                msg.indexOf('.map') !== -1) {
              return;
            }
          }
          originalError.apply(console, arguments);
        };

        console.warn = function() {
          var msg = arguments[0];
          if (msg && typeof msg === 'string') {
            if (msg.indexOf('SourceMap') !== -1 || msg.indexOf('.map') !== -1) {
              return;
            }
          }
          originalWarn.apply(console, arguments);
        };
      })();

      // ----- ÏûëÏùÄ Ïú†Ìã∏ -----
      function qs(sel) { return document.querySelector(sel); }
      function qsa(sel) { return Array.from(document.querySelectorAll(sel)); }

      function isLocalPreview() {
        try {
          var h = window.location.hostname || "";
          var p = String(window.location.port || "");
          var prot = window.location.protocol || "";
          // 8090/8088(preview), 8099(dashboard) Î™®Îëê Î°úÏª¨Î°ú Í∞ÑÏ£º
          if (p === "8099" || p === "8090" || p === "8088" || h === "127.0.0.1" || h === "localhost" || prot === "file:") {
              return true;
          }
          return false;
        } catch (e) {
          return false;
        }
      }

      // ÌîÑÎ¶¨Î∑∞(8090 Îì±)ÏóêÏÑúÎäî Î°úÏª¨ payment_server(5000) ÏÇ¨Ïö©
      var API_BASE = "http://127.0.0.1:5000";
      try {
        var h = window.location.hostname;
        // Î°úÏª¨ ÌôòÍ≤ΩÏù¥ ÏïÑÎãå Í≤ΩÏö∞(Î∞∞Ìè¨ ÌôòÍ≤Ω)ÏóêÎäî ÏÉÅÎåÄ Í≤ΩÎ°ú ÏÇ¨Ïö©
        if (h !== "127.0.0.1" && h !== "localhost" && window.location.protocol !== "file:") {
           API_BASE = ""; 
        }
      } catch (e) {}

      // Í∞ÄÍ≤© ÎèôÏ†Å ÏÉùÏÑ± (ÌïòÎìúÏΩîÎî© Ï†úÍ±∞)
      try {
        var planBtns = document.getElementById("plan-buttons");
        if (planBtns) {
            // Ïä§ÌÇ§ÎßàÏóêÏÑú Ï£ºÏûÖÎêú Í∞ÄÍ≤© Ï†ïÎ≥¥ ÏÇ¨Ïö© (localStorage Î¨¥Ïãú)
            planBtns.innerHTML = `
                <button class="btn btn-primary" data-action="choose-plan" data-plan="Standard" data-price="$29.00">
                    Standard License ($29.00)
                </button>
            `;
        }
      } catch(e) {}

      function showToast(msg) {
        var t = qs("#toast");
        if (!t) return;
        t.textContent = msg;
        t.style.display = "block";
        clearTimeout(window.__toastTimer);
        window.__toastTimer = setTimeout(function() {
          t.style.display = "none";
        }, 2200);
      }

      function openModal(id) {
        var el = qs(id);
        if (!el) return;
        el.style.display = "flex";
      }

      function closeModal(id) {
        var el = qs(id);
        if (!el) return;
        el.style.display = "none";
      }

      function scrollToTarget(hash) {
        try {
          var el = qs(hash);
          if (el) {
            el.scrollIntoView({ behavior: "smooth", block: "start" });
          }
        } catch (e) {}
      }

      // ----- Marketing Urgency & Social Proof -----
      function startCountdown(durationSec) {
        var timer = durationSec, minutes, seconds;
        var el = qs("#countdown");
        if (!el) return;
        setInterval(function () {
          minutes = parseInt(timer / 60, 10);
          seconds = parseInt(timer % 60, 10);
          minutes = minutes < 10 ? "0" + minutes : minutes;
          seconds = seconds < 10 ? "0" + seconds : seconds;
          el.textContent = minutes + ":" + seconds;
          if (--timer < 0) timer = durationSec;
        }, 1000);
      }

      function startSocialProof() {
        var names = ["Alex", "Sarah", "Michael", "Elena", "Ji-hoon", "Chloe", "David", "Yuki"];
        var locations = ["USA", "UK", "Germany", "South Korea", "Japan", "Canada", "Singapore"];
        var notif = qs("#purchase-notification");
        var nameEl = qs("#notif-name");
        if (!notif || !nameEl) return;

        function showNotif() {
          var name = names[Math.floor(Math.random() * names.length)];
          var loc = locations[Math.floor(Math.random() * locations.length)];
          nameEl.textContent = name + " from " + loc;
          notif.classList.add("show");
          setTimeout(function() {
            notif.classList.remove("show");
          }, 5000);
        }

        setInterval(showNotif, 20000 + Math.random() * 20000);
        setTimeout(showNotif, 3000);
      }

      // Init Marketing
      startCountdown(15 * 60);
      startSocialProof();

      // ----- Î°úÏª¨ Ï†ÄÏû• (Îç∞Î™®) -----
      var productId = document.body.getAttribute("data-product-id") || "product";
      var KEY_LEADS = productId + ":leads";
      var KEY_PLAN  = productId + ":plan";
      var KEY_PRICE = productId + ":price";
      var KEY_ORDER = productId + ":order";
      var KEY_AUTH  = productId + ":auth";

      function readJson(key, fallback) {
        try {
          var v = localStorage.getItem(key);
          if (!v) return fallback;
          return JSON.parse(v);
        } catch (e) {
          return fallback;
        }
      }

      function writeJson(key, obj) {
        localStorage.setItem(key, JSON.stringify(obj));
      }

      // ----- Î°úÏßÅ Ïú†Ìã∏ -----
      async function startPay(plan) {
        var rawPrice = "$49";
        // Try to find price from local storage
        // The key variable might be defined as KEY_PRICE, or we can reconstruct it
        var key = "20260220-033213-how-to-use-amazon-s-new-ai-too:price";
        var stored = localStorage.getItem(key);
        if (stored) rawPrice = stored;
        
        // Also check if button has data-price (if clicked)
        // This is harder inside startPay without the event, but localStorage is reliable if set by choose-plan
        
        showToast("Redirecting to secure checkout...");
        setTimeout(function() {
            var url = "checkout.html?price=" + encodeURIComponent(rawPrice);
            window.location.href = url;
        }, 500);
    }, 800);
           return;
        }

        try {
          // GET request to avoid 405 error (fallback supported on server)
          var params = "product_id=" + encodeURIComponent(productId) + 
                       "&price_amount=" + encodeURIComponent(numericPrice) + 
                       "&price_currency=usd";
          var res = await fetch(API_BASE + "/api/pay/start?" + params, {
            method: "GET",
            headers: { "Content-Type": "application/json" }
          });

          var data = await res.json().catch(function() { return {}; });
          if (!res.ok) {
            if (data.can_request) {
              alert(data.message || "Product needs regeneration. Please leave a comment on the WordPress post!");
            } else {
              showToast("Payment failed: " + (data.error || res.status));
            }
            return;
          }

          if (data.order_id) {
            localStorage.setItem(KEY_ORDER, String(data.order_id));
          }

          // 2) Ïã§Ï†ú Í≤∞Ï†úÏ∞Ω(NowPayments) Ï†ÑÌôò
          if (data.nowpayments && data.nowpayments.invoice_url) {
            showToast("Redirecting to payment gateway...");
            setTimeout(function() {
              window.location.href = data.nowpayments.invoice_url;
            }, 1000);
          } 
          // 3) Mock Î™®ÎìúÏù∏ Í≤ΩÏö∞ÏóêÎèÑ Ï¶âÏãú Îã§Ïö¥Î°úÎìú ÎåÄÏã† 'Í≤∞Ï†ú ÏßÑÌñâ Ï§ë' ÎäêÎÇåÏùÑ Ï£ºÍ∏∞ ÏúÑÌï¥ Î™®Îã¨Ïù¥ÎÇò ÏßÄÏó∞ Ï≤òÎ¶¨
          else if (data.status === "paid") {
            showToast("Success! Processing your order...");
            setTimeout(function() {
              var url = data.download_url;
              if (API_BASE && url && url.indexOf("http") !== 0 && url[0] === "/") {
                url = API_BASE + url;
              }
              // Î°úÏª¨ ÎØ∏Î¶¨Î≥¥Í∏∞(8090/8099) ÌôòÍ≤ΩÏù¥Í≥† URLÏù¥ /api/pay/downloadÎ°ú ÏãúÏûëÌïòÎ©¥ dashboardÏùò ÌîÑÎ°ùÏãúÎ•º ÌÜµÌïòÎèÑÎ°ù Ïú†ÎèÑ
               if (false && isLocalPreview() && url && url.indexOf("/api/pay/download") !== -1) {
                 var currentPort = window.location.port;
                 if (currentPort === "8090" || currentPort === "8099") {
                   url = (url || "").replace("127.0.0.1:5000", window.location.host);
                 }
               }
               window.location.href = url || ("/downloads/" + productId + "/package.zip");
            }, 2000); // 2Ï¥à Ï†ïÎèÑ 'ÏßÄÏó∞'ÏùÑ Ï£ºÏñ¥ Í≤∞Ï†úÎêú ÎäêÎÇåÏùÑ Ï§å
          } else {
            showToast("Order created: " + (data.order_id || "pending"));
          }
        } catch (e) {
          showToast("Error: " + (e.message || String(e)));
        }
      }

      async function checkPay() {
        var orderId = localStorage.getItem(KEY_ORDER) || "";
        if (!orderId) {
          showToast("No recent payment to check. Start checkout first.");
          return;
        }
        showToast("Checking payment status...");
        try {
          var url = API_BASE + "/api/pay/check?order_id=" + encodeURIComponent(orderId) + "&product_id=" + encodeURIComponent(productId);
          var res = await fetch(url, { method: "GET" });
          var data = await res.json().catch(function() { return {}; });
          if (!res.ok) {
            showToast("Check failed: " + (data.error || res.status));
            return;
          }
          if (data.status === "paid" && data.download_url) {
            showToast("Payment confirmed. Redirecting to download...");
            setTimeout(function() {
              var url = data.download_url;
              if (API_BASE && url && url.indexOf("http") !== 0 && url[0] === "/") {
                url = API_BASE + url;
              }
              // Î°úÏª¨ ÎØ∏Î¶¨Î≥¥Í∏∞(8090/8099) ÌôòÍ≤ΩÏù¥Í≥† URLÏù¥ /api/pay/downloadÎ°ú ÏãúÏûëÌïòÎ©¥ dashboardÏùò ÌîÑÎ°ùÏãúÎ•º ÌÜµÌïòÎèÑÎ°ù Ïú†ÎèÑ
              if (isLocalPreview() && url && url.indexOf("/api/pay/download") !== -1) {
                // dashboard_server.py(8099)Í∞Ä ÌîÑÎ°ùÏãú ÎùºÏö∞Ìä∏Î•º Í∞ÄÏßÄÍ≥† ÏûàÏúºÎØÄÎ°ú Ìò∏Ïä§Ìä∏Î•º Î≥ÄÍ≤Ω
                var currentPort = window.location.port;
                if (currentPort === "8099") {
                  url = (url || "").replace("127.0.0.1:5000", window.location.host);
                }
              }
              window.location.href = url;
            }, 800);
          } else {
            showToast("Payment not confirmed yet. Status: " + (data.status || "pending"));
          }
        } catch (e) {
          showToast("Error: " + (e.message || String(e)));
        }
      }

      // ----- Ïï°ÏÖò ÎùºÏö∞ÌÑ∞ -----
      var actions = {
        "nav": function(el) {
          var target = el.getAttribute("data-target") || el.getAttribute("href") || "#features";
          if (target.startsWith("#")) {
            scrollToTarget(target);
          }
        },

        "scroll": function(el) {
          var target = el.getAttribute("data-target") || "#features";
          if (target.startsWith("#")) {
            scrollToTarget(target);
          }
        },

        "open-login": function() { startPay("SignIn"); }, 50);
        },

        "open-plans": function() { 
          var plan = localStorage.getItem("20260220-033213-how-to-use-amazon-s-new-ai-too:plan") || "Premium";
          startPay(plan); 
        }, 50);
        },

        "close-modal": function(el) {
          var target = el.getAttribute("data-target");
          if (target) closeModal(target);
        },

        "choose-plan": function(el) {
          var plan = el.getAttribute("data-plan") || "Starter";
          var price = el.getAttribute("data-price") || "$49";
          localStorage.setItem("20260220-033213-how-to-use-amazon-s-new-ai-too:plan", plan);
          localStorage.setItem("20260220-033213-how-to-use-amazon-s-new-ai-too:price", price);
          showToast("Plan selected: " + plan + " (" + price + ")");
          startPay(plan);
        },

        "submit-lead": function() {
          var emailEl = qs("#lead-email");
          var plan = localStorage.getItem(KEY_PLAN) || "";
          var email = (emailEl ? emailEl.value : "").trim();

          if (!plan) {
            showToast("Select a plan first.");
            return;
          }
          if (!email || email.indexOf("@") < 0) {
            showToast("Enter a valid email.");
            return;
          }

          var leads = readJson(KEY_LEADS, []);
          leads.push({
            email: email,
            plan: plan,
            at: new Date().toISOString()
          });
          writeJson(KEY_LEADS, leads);

          showToast("Lead captured. Proceeding to payment...");

          setTimeout(function() {
            closeModal("#modal-plans");
            startPay(plan);
          }, 800);
        },

        "check-payment": function() {
          checkPay();
        },

        "do-login": function() {
          var emailEl = qs("#login-email");
          var passEl = qs("#login-pass");
          var email = (emailEl ? emailEl.value : "").trim();
          var pass = (passEl ? passEl.value : "").trim();

          if (!email || email.indexOf("@") < 0) {
            showToast("Enter a valid email.");
            return;
          }
          if (!pass) {
            showToast("Enter a password.");
            return;
          }

          localStorage.setItem(KEY_AUTH, email);
          showToast("Signed in: " + email);
          closeModal("#modal-login");
        },

        "reset-demo": function() {
          localStorage.removeItem(KEY_LEADS);
          localStorage.removeItem(KEY_PLAN);
          localStorage.removeItem(KEY_AUTH);
          var leadPlan = qs("#lead-plan");
          var leadEmail = qs("#lead-email");
          if (leadPlan) leadPlan.value = "";
          if (leadEmail) leadEmail.value = "";
          showToast("Reset.");
        }
      };

      function handleClick(e) {
        var el = e.target;
        // Î≤ÑÌäº ÏïàÏ™Ω span ÌÅ¥Î¶≠ Îì± ÎåÄÎπÑ: data-action Í∞ÄÏßÑ Ï°∞ÏÉÅÍπåÏßÄ ÌÉêÏÉâ
        while (el && el !== document.body) {
          var act = el.getAttribute && el.getAttribute("data-action");
          if (act) {
            e.preventDefault();
            var fn = actions[act];
            if (fn) {
              fn(el);
            } else {
              showToast("Unknown action: " + act);
            }
            return;
          }
          el = el.parentNode;
        }
      }

      // ----- Ìï¥Ïãú ÎùºÏö∞ÌåÖ(Îã®Ïàú) -----
      function onHashChange() {
        var h = location.hash || "";
        if (h && h.startsWith("#")) {
          // Î™®Îã¨ Ìï¥Ïãú Í∞ôÏùÄ Í±¥ Ïì∞ÏßÄ ÏïäÍ≥† ÏÑπÏÖòÎßå Ï≤òÎ¶¨
          if (qs(h)) {
            scrollToTarget(h);
          }
        }
      }

      // ----- Ï¥àÍ∏∞ Î∞îÏù∏Îî© -----
      document.addEventListener("click", handleClick);
      window.addEventListener("hashchange", onHashChange);

      // ESCÎ°ú Î™®Îã¨ Îã´Í∏∞
      document.addEventListener("keydown", function(e) {
        if (e.key === "Escape") {
          closeModal("#modal-login");
          closeModal("#modal-plans");
        }
      });

      // Î∞±ÎìúÎ°≠ ÌÅ¥Î¶≠ Ïãú Îã´Í∏∞
      qsa(".modal-backdrop").forEach(function(bd) {
        bd.addEventListener("click", function(e) {
          if (e.target === bd) {
            bd.style.display = "none";
          }
        });
      });

      // Ï¥àÍ∏∞ Ìï¥Ïãú Ï≤òÎ¶¨
      onHashChange();

      // showToast("JS loaded.");
    })();
  </script>
</body>
</html>
